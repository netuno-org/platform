{
  "version": 3,
  "file": "core.js",
  "sourceRoot": "",
  "sources": [
    "core.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\ntoastr.options = {\n  \"closeButton\": true,\n  \"debug\": false,\n  \"newestOnTop\": true,\n  \"progressBar\": false,\n  \"positionClass\": \"toast-top-center\",\n  \"preventDuplicates\": true,\n  \"onclick\": null,\n  \"showDuration\": \"300\",\n  \"hideDuration\": \"1000\",\n  \"timeOut\": \"3000\",\n  \"extendedTimeOut\": \"1000\",\n  \"showEasing\": \"swing\",\n  \"hideEasing\": \"linear\",\n  \"showMethod\": \"fadeIn\",\n  \"hideMethod\": \"fadeOut\"\n}\n\n$ ->\n  $('form').submit ->\n    false\n  return\n\nnetuno.newUid = ()->\n  s4 = () ->\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1)\n  return \"#{ s4() }#{ s4() }_#{ s4() }_#{ s4() }_#{ s4() }_#{ s4() }#{ s4() }#{ s4() }\"\n\nnetuno.callbacks =\n  create: (func)->\n    key = netuno.newUid()\n    netuno.callbacks[key] = func\n    return key\n  remove: (key)->\n    delete netuno.callbacks[key]\n\nnetuno.menu = (menu)->\n  navMenuHtml = '<li><a netuno-navigation-dashboard href=\"#netuno_dashboard\"><i class=\"fa fa-fw fa-dashboard\"></i> Dashboard</a></li>'\n  containersHtml = ''\n  buildMenu = (type, parentUId, items, level) ->\n    menuHtml = '';\n    if level > 0\n      menuHtml += '<ul>'\n    for item in items\n      expand = \"\"\n      if item.items.length > 0\n        expand = \" data-toggle=\"\n      menuHtml += '<li>'\n      menuHtml += \"<a netuno-navigation-#{ type }-item.name href=\\\"\\#\\\" netuno-#{ type }=\\\"#{ item.name }\\\"#{ expand }>\"\n      menuHtml += \"#{ item.text }\"\n      if item.items.length > 0\n        menuHtml += \"<i class=\\\"fa fa-fw fa-caret-down\\\"></i>\"\n      menuHtml += \"</a>\"\n      if item.items.length > 0\n        menuHtml += buildMenu(type, item.uid, item.items, level + 1)\n      menuHtml += '</li>'\n      containersHtml += \"<div netuno-container-#{ type }-#{ item.name } netuno-#{ type } netuno-#{ type }-uid=\\\"#{ item.uid }\\\" netuno-#{ type }-name=\\\"#{ item.name }\\\">\"\n      if type is 'form'\n        containersHtml += \"<div class=\\\"netuno-form-edit\\\" netuno-#{ type }-edit=\\\"#{ item.name }\\\"></div>\"\n        containersHtml += \"<div class=\\\"netuno-form-search\\\" netuno-#{ type }-search=\\\"#{ item.name }\\\"></div>\"\n      containersHtml += \"</div>\"\n    if level > 0\n      menuHtml += '</ul>'\n    return menuHtml\n  if menu.forms.length > 0\n    navMenuHtml += \"<li class=\\\"nav-section-title\\\"><h4>&nbsp;<i class=\\\"fa fa-fw fa-edit\\\"></i>#{ netuno.lang['menu.forms'] }</h4></li>\"\n    navMenuHtml += buildMenu 'form', 0, menu.forms, 0\n  if menu.reports.length > 0\n    navMenuHtml += \"<li class=\\\"nav-section-title\\\"><h4>&nbsp;<i class=\\\"fa fa-fw fa-area-chart\\\"></i>#{ netuno.lang['menu.reports'] }</h4></li>\"\n    navMenuHtml += buildMenu 'report', 0, menu.reports, 0\n  navbar = $('[netuno-navigation]')\n  navbar.append(navMenuHtml).show().find('ul').hide()\n  navbar.trigger('netuno:loaded')\n  containers = $('[netuno-containers]')\n  containers.append(containersHtml)\n  containers.trigger('netuno:loaded')\n  netuno.navigationLoaded()\n\nnetuno.loadForm = (container) ->\n  container = $(container) unless container instanceof jQuery\n  container = if container.is(\"[netuno-form][netuno-form-uid]\") then container else container.closest(\"[netuno-form][netuno-form-uid]\")\n  containerSearch = container.children('[netuno-form-search]')\n  data = { 'netuno_table_uid': container.attr('netuno-form-uid') }\n  if container.is(\"[netuno-form-relation]\")\n    mainContainer = container.parents(\"[netuno-form][netuno-form-uid]\")\n    data['netuno_relation_table_uid'] = mainContainer.find('input[name=netuno_table_uid]').val()\n    data['netuno_relation_item_uid'] = mainContainer.find('input[name=netuno_item_uid]').val()\n  if containerSearch.is(':empty')\n    $.ajax(\n      type: 'POST'\n      url: \"#{ netuno.config.urlAdmin }Search#{ netuno.config.extension }\"\n      data: data\n      success: (response) ->\n        containerSearch.html(response);\n        netuno.contentLoaded(containerSearch)\n    )\n  container.show()\n\nnetuno.loadFormSearchDataTable = (table) ->\n  table = $(table) unless table instanceof jQuery\n  isButton = table.is('button')\n  container = table.parents(\"[netuno-form][netuno-form-uid]:first\")\n  table = container.find(\"[netuno-form-search-table=#{ container.attr('netuno-form-name') }]:first\") unless table.is('table')\n  containerSearch = container.children('[netuno-form-search]')\n  containerSearchForm = containerSearch.find(\"form[name=netuno_form_#{ container.attr('netuno-form-name') }_search]:first\")\n  tableBody = table.find('tbody')\n  findDataTableTR = (e) ->\n    if e.parentNode.tagName.toLowerCase() is 'tr'\n      return e.parentNode\n    return findDataTableTR(e.parentNode)\n  tableBody.click (event) ->\n    netuno.loadFormEdit(table, $(findDataTableTR(event.target)).children(':first-child').children('span').html())\n  if table.find('th').length > 0\n    netuno.unmask containerSearchForm if isButton\n    dt = table.dataTable(\n      \"pagingType\": \"full_numbers\"\n      \"pageLength\": 25\n      \"processing\": false\n      \"serverSide\": true\n      \"destroy\": true\n      \"ajax\": {\n        \"url\": \"#{ netuno.config.urlAdmin }Search#{ netuno.config.extension }?netuno_action=datasource&\"+ containerSearchForm.serialize()\n        \"type\": \"POST\"\n      }\n      \"drawCallback\": (settings, json) ->\n        netuno.mask table\n      ,\n      \"initComplete\": (settings, json) ->\n        table.fadeIn()\n      ,\n      \"language\": netuno.config.dataTable,\n      \"dom\": 'pitip',\n      \"tableTools\": {\n        \"sSwfPath\": \"#{ netuno.config.urlScripts }/plugins/datatables-tabletools/swf/copy_csv_xls_pdf.swf\"\n      }\n    )\n    netuno.mask containerSearchForm if isButton\n\nnetuno.loadFormEdit = (container, item) ->\n  container = $(container) unless container instanceof jQuery\n  container = if container.is(\"[netuno-form][netuno-form-uid]\") then container else container.parents(\"[netuno-form][netuno-form-uid]:first\")\n  container.children('[netuno-form-search]').hide()\n  data = {\n    'netuno_table_uid': container.attr('netuno-form-uid'),\n    'netuno_item_uid': item,\n    'netuno_edit_only': container.is(\"[netuno-form-edit-only]\"),\n    'netuno_zone': container.attr('netuno-zone')\n  }\n  if container.is(\"[netuno-form-relation]\")\n    mainContainer = container.parents(\"[netuno-form][netuno-form-uid]:first\")\n    data['netuno_relation_table_uid'] = mainContainer.find('input[name=netuno_table_uid]').val()\n    data['netuno_relation_item_uid'] = mainContainer.find('input[name=netuno_item_uid]').val()\n  containerEdit = container.children('[netuno-form-edit]')\n  containerEdit.empty()\n  containerEdit.show()\n  $.ajax(\n    type: 'POST'\n    url: \"#{ netuno.config.urlAdmin }Edit#{ netuno.config.extension }\"\n    data: data\n    success: (response) ->\n      containerEdit.html(response);\n      netuno.contentLoaded(containerEdit)\n      containerEditForm = containerEdit.find(\"form[name=netuno_form_#{ container.attr('netuno-form-name') }_edit]\")\n      if (containerEditForm.length > 0)\n        netuno.loadValidation(containerEditForm)\n      if typeof item == 'undefined' or item == null or item == ''\n        container.trigger('netuno:new')\n      else\n        container.trigger('netuno:edit', [ item ])\n  )\n\nnetuno.backFormEdit = (element, disableSearchTableRefresh) ->\n  element = $(element) unless element instanceof jQuery\n  container = if element.is(\"[netuno-form][netuno-form-uid]\") then element else element.parents(\"[netuno-form][netuno-form-uid]:first\")\n  container.children('[netuno-form-edit]').empty().hide()\n  container.children('[netuno-form-search]').show()\n  if (disableSearchTableRefresh != true)\n    table = container.find(\"[netuno-form-search-table=#{ container.attr('netuno-form-name') }]:first\");\n    table.hide()\n    netuno.loadFormSearchDataTable(table)\n  container.trigger('netuno:back')\n\nnetuno.saveFormEdit = (element, fromRelation) ->\n  element = $(element) unless element instanceof jQuery\n  container = if element.is(\"[netuno-form][netuno-form-uid]\") then element else element.parents(\"[netuno-form][netuno-form-uid]:first\")\n  containerEdit = container.children('[netuno-form-edit]')\n  containerEditForm = containerEdit.find(\"form[name=netuno_form_#{ container.attr('netuno-form-name') }_edit]:first\")\n  netuno.unmask containerEditForm\n  containerEditForm.ajaxForm().submit()\n  if containerEditForm.validate().valid()\n    callback = netuno.callbacks.create((uid)->\n      container.trigger('netuno:save', [ uid ])\n    )\n    containerEditForm.ajaxForm(\n        url: \"#{ netuno.config.urlAdmin }Edit#{ netuno.config.extension }?netuno_action=save&netuno_autosave=#{ typeof fromRelation != 'undefined' }&netuno_callback=#{ callback }\"\n        iframe: false\n        success: (response) ->\n          containerEdit.html(response)\n          containerEditForm = containerEdit.find(\"form[name=netuno_form_#{ container.attr('netuno-form-name') }_edit]:first\")\n          if (containerEditForm.length > 0)\n            netuno.contentLoaded(containerEdit)\n            netuno.loadValidation(containerEditForm)\n            if (typeof fromRelation != 'undefined')\n              containerEditForm.find(\"button[netuno-form-edit-relation-button=#{ fromRelation }]:first\").trigger('click')\n    ).submit()\n    return true\n  else\n    netuno.mask containerEditForm\n    return false\n\nnetuno.deleteFormEdit = (element) ->\n  element = $(element) unless element instanceof jQuery\n  container = if element.is(\"[netuno-form][netuno-form-uid]\") then element else element.parents(\"[netuno-form][netuno-form-uid]:first\")\n  containerEdit = container.children('[netuno-form-edit]')\n  if (!containerEdit.is(':empty'))\n    containerEditForm = containerEdit.find(\"form[name=netuno_form_#{ container.attr('netuno-form-name') }_edit]:first\")\n    netuno.unmask containerEditForm\n    callback = netuno.callbacks.create((uid)->\n      container.trigger('netuno:delete', [ uid ])\n    )\n    $.ajax(\n      type: 'POST'\n      url: \"#{ netuno.config.urlAdmin }Edit#{ netuno.config.extension }?netuno_action=delete&netuno_callback=#{ callback }\"\n      data: containerEditForm.serialize()\n      success: (response) ->\n        containerEdit.html(response)\n        netuno.contentLoaded(containerEdit)\n        containerEditForm = containerEdit.find(\"form[name=netuno_form_#{ container.attr('netuno-form-name') }_edit]:first\")\n        if (containerEditForm.length > 0)\n          netuno.loadValidation(containerEditForm)\n    )\n\nnetuno.loadReport = (container) ->\n  container = $(container) unless container instanceof jQuery\n  container = if container.is(\"[netuno-report][netuno-report-uid]\") then container else container.parents(\"[netuno-report][netuno-report-uid]:first\")\n  container.children('[netuno-report-search]').hide()\n  if container.is(':empty')\n    $.ajax(\n      type: 'POST'\n      url: \"#{ netuno.config.urlAdmin }Report#{ netuno.config.extension }\"\n      data: {'netuno_report_uid': container.attr('netuno-report-uid')}\n      success: (response) ->\n        container.html(response);\n        netuno.contentLoaded(container)\n    )\n  container.show()\n\nnetuno.buildReport = (report) ->\n  report = $(report) unless report instanceof jQuery\n  container = report.parents(\"[netuno-report][netuno-report-uid]:first\")\n  containerResult = container.children(\"[netuno-report-result=#{ container.attr('netuno-report-name') }]\")\n  containerForm = container.find(\"form[name=netuno_report_#{ container.attr('netuno-report-name') }_form]:first\")\n  containerForm.ajaxForm().submit()\n  if containerForm.validate().valid()\n    containerForm.ajaxForm(\n      url: \"#{ netuno.config.urlAdmin }ReportBuilder#{ netuno.config.extension }\"\n      iframe: false\n      success: (response) ->\n        containerResult.html(response)\n        netuno.contentLoaded(containerResult)\n    ).submit()\n    return true\n  else\n    return false\n\nnetuno.loadValidation = (form) ->\n  form = $(form) unless form instanceof jQuery\n  form = if form.is(\"form\") then form else form.closest(\"form\")\n  rules = {}\n  form.find(\"[validation]\").each ()->\n    element = $(this)\n    validation = S(element.attr(\"validation\"))\n    rules[element.attr(\"name\")] = {}\n    if validation.contains(\"required\")\n      rules[element.attr(\"name\")][\"required\"] = true\n    if validation.contains(\"email\")\n      rules[element.attr(\"name\")][\"email\"] = true\n  form.validate({\n    \"errorElement\": 'span'\n    \"errorClass\": 'help-block'\n    \"focusInvalid\": false\n    \"ignore\": \"\"\n    \"rules\": rules\n    \"invalidHandler\": (event, validator) ->\n    \"highlight\": (element) ->\n      $(element).closest('.form-group').addClass('has-error')\n    \"success\": (label) ->\n      label.closest('.form-group').removeClass('has-error')\n      label.remove();\n    \"errorPlacement\": (error, element) ->\n      error.insertAfter(element.closest('.input-icon'))\n  })\n\nnetuno.downloadProgress = (url) ->\n  time = new Date().getTime()\n  $(\"body\").append(\"<iframe id=\\\"netuno_download_#{ time }\\\" src=\\\"#{ url }&downloadToken=#{ time }\\\" style=\\\"display: none;\\\"></iframe>\");\n  if (!navigator.userAgent.match(/msie/i))\n    modal = $('#netuno_download')\n    modal.modal('show');\n    tickStatus = () ->\n      $('\\#netuno_download_progress_bar').css('width', \"100%\").attr('aria-valuenow', 100);\n      $.ajax({\n        type: 'GET',\n        url: \"#{url }&downloadToken=#{ time }&downloadStatus=true\",\n        success: (response) ->\n          if (response == 'done')\n            iframe = $(\"\\#netuno_download_#{ time }\")\n            if ($(\"\\#netuno_download_#{ time }\").length > 0)\n              iframe.remove()\n              window.setTimeout(() ->\n                modal.modal('hide')\n                $('\\#netuno_download_progress_bar').css('width', \"0%\").attr('aria-valuenow', 0);\n              , 1000);\n          else\n            window.setTimeout(tickStatus, 1000);\n      });\n    tickStatus();\n\n\nnetuno.keepAlive = ()->\n  if typeof netuno.config.user != 'undefined'\n    $.ajax {\n      type: 'POST',\n      url: \"#{ netuno.config.urlAdmin }KeepAlive#{ netuno.config.extension }\",\n      success: (response)->\n        if response == \"1\"\n          window.setTimeout('netuno.keepAlive();', 360000)\n        else\n          document.location.href = \"#{ netuno.config.urlAdmin }Index#{ netuno.config.extension }\"\n    }\n\nnetuno.loadLinks = (container)->\n  container.find(\"a\").on \"click\", ()->\n    element = $(this)\n    if element.attr(\"rel\") is \"external\"\n      if element.attr(\"target\") is \"_blank\"\n        window.open(element.attr(\"href\"))\n        return false\n      else\n        window.location.href = element.attr(\"href\")\n        return false\n    else\n      if element.is(\"[data-toggle]\")\n        ul = element.parent().children('ul')\n        if ul.is(':hidden')\n          ul.fadeIn()\n          element.children('i:last-child').removeClass('fa-caret-down').addClass('fa-caret-up')\n        else\n          ul.fadeOut()\n          element.children('i:last-child').removeClass('fa-caret-up').addClass('fa-caret-down')\n      if element.parents('.navbar-nav').length == 1\n        element.trigger('netuno:click')\n        window.scrollTo(0, 0)\n      if element.is(\"[netuno-content]\")\n        container = $(element.attr(\"href\"))\n        $(\"#containers > div\").hide()\n        if container.length > 0 and container.is(\":empty\")\n          $.ajax\n            url: element.attr('netuno-content'),\n            success: (response) ->\n              container.html(response);\n              netuno.contentLoaded(container)\n        container.show()\n        return false\n      else if element.is(\"[netuno-form]\")\n        formName = element.attr(\"netuno-form\")\n        $(\"\\#containers > div\").hide()\n        netuno.loadForm($(\"\\#containers > div[netuno-form-name=#{ formName }]\"))\n        return false\n      else if element.is(\"[netuno-report]\")\n        reportName = element.attr(\"netuno-report\")\n        $(\"#containers > div\").hide()\n        netuno.loadReport($(\"\\#containers > div[netuno-report-name=#{ reportName }]\"))\n        return false\n      else if element.attr(\"href\") isnt \"#\"\n        container = $(element.attr(\"href\"))\n        $(\"#containers > div\").hide()\n        container.show()\n        return false\n\nnetuno.mask = (container)->\n  container.find('[data-mask]').each(()->\n    o = $(this)\n    if (o.attr('data-mask') != null and o.attr('data-mask') != '')\n      o.mask(o.attr('data-mask'), {\n        reverse: o.attr('data-mask-reverse') is 'true'\n        selectOnFocus: o.attr('data-mask-selectonfocus') is 'true'\n      })\n  )\n\nnetuno.unmask = (container)->\n  container.find('[data-mask]').each(()->\n    o = $(this)\n    if (typeof o.data().mask isnt 'undefined' and o.data().mask isnt null)\n      if o.text() isnt ''\n        data = o.data()\n        delete data.mask\n        o.data(data)\n      else\n        o.unmask()\n  )\n\nnetuno.addContentLoad (container)->\n  netuno.loadLinks(container)\n\nnetuno.addContentLoad (container)->\n  container.find(\"select\").select2(\n    theme: \"bootstrap\"\n    placeholder: \"\"\n    maximumSelectionSize: 6\n  )\n\nnetuno.addContentLoad (container)->\n  netuno.mask(container)\n\nnetuno.openRelation = (name) ->\n  container = $(\"\\#netuno_form_#{ name }\")\n  containerSearch = container.children('[netuno-form-search]')\n  if containerSearch.is(':empty')\n    $.ajax(\n      type: 'POST'\n      url: \"#{ netuno.config.urlAdmin }Search#{ netuno.config.extension }\"\n      data: { 'netuno_table_uid': container.attr('netuno-form-uid') }\n      success: (response) ->\n        containerSearch.html(response);\n        netuno.contentLoaded(containerSearch)\n    )\n  container.show()\n\n\nnetuno.addPageLoad ()->\n  netuno.loadLinks($(\"body\"))\n\nnetuno.modal = {}\n\nnetuno.modal.stack = []\n\nnetuno.modal.create = (config) ->\n  config = $.extend {\n    name: null,\n    container: $('body')\n    relation: false\n    callback: (modal)->\n  }, config\n  if (config.name == null)\n    return\n  key = netuno.newUid()\n  $.ajax(\n    type: 'POST'\n    url: \"#{ netuno.config.urlAdmin }Edit#{ netuno.config.extension }\"\n    dataType: 'json'\n    data: {\n      netuno_action: 'uid'\n      netuno_table_name: config.name\n    }\n    success: (response) ->\n      modalRelationParam = \"\"\n      modalRelationFormParam = \"\"\n      if (config.relation)\n        modalRelationParam = \"netuno-form-edit-relation-modal=\\\"#{ config.name }\\\"\"\n        modalRelationFormParam = \"netuno-form-relation\"\n      config.container.append(\"\"\"\n<div id=\"netuno-modal-#{ key }\" #{ modalRelationParam } class=\"netuno-modal\">\n  <div class=\"container-fluid\">\n    <div netuno-form netuno-form-uid=\"#{ response.uid }\" netuno-form-name=\"#{ config.name }\" #{ modalRelationFormParam }>\n      <div class=\"netuno-form-edit\" netuno-form-edit></div>\n      <div class=\"netuno-form-search\" netuno-form-search></div>\n    </div>\n  </div>\n</div>\n\"\"\")\n      config.callback($(\"\\#netuno-modal-#{ key }\"))\n  )\n\nnetuno.modal.showAndLoad = (modal)->\n  modal = $(modal) unless modal instanceof jQuery\n  netuno.modal.show(modal)\n  netuno.loadForm(modal.find('[netuno-form]'))\n\nnetuno.modal.show = (modal)->\n  modal = $(modal) unless modal instanceof jQuery\n  modal.trigger('netuno:modal:show')\n  $('#netuno-modal-curtain').fadeIn()\n  $('#netuno-modal-close').show()\n  modal.show()\n  netuno.modal.stack.push(modal)\n  modal.trigger('netuno:modal:shown')\n\nnetuno.modal.hide = (modal)->\n  modal = $(modal) unless modal instanceof jQuery\n  modal.trigger('netuno:modal:hide')\n  modal.hide()\n  for i in [0 ... netuno.modal.stack.length]\n    if (netuno.modal.stack[i] == modal)\n      netuno.modal.stack.splice(i, 1)\n  if (netuno.modal.stack.length == 0)\n    $('#netuno-modal-curtain').fadeOut()\n    $('#netuno-modal-close').hide()\n  modal.trigger('netuno:modal:hidden')\n\nnetuno.modal.hideLast = ()->\n  if (netuno.modal.stack.length > 0)\n    netuno.modal.hide(netuno.modal.stack[netuno.modal.stack.length - 1])\n\nnetuno.com = {}\n\nnetuno.com['text'] =\n  'html': {\n    'load': (id, css)->\n      tinymce.init(\n        selector: \"textarea\\##{ id }\"\n        content_css: css\n        theme: 'modern'\n      )\n  }\n\nnetuno.com['select'] =\n  callbacks: []\n  getConfig: (fieldId, service, ajaxParams) ->\n    netuno.com.select.loadCallbacksForFieldId(fieldId)\n    delayCallbacks = new Date().getTime()\n    #field = $(\"\\##{ fieldId }\")\n    # dropdownParent: field.parent()\n    return {\n      theme: \"bootstrap\"\n      placeholder: netuno.config.com.lang.select[\"defaulttext\"]\n      allowClear: true,\n      data: [\n        {\n          id: '',\n          text: ''\n        }\n      ]\n      ajax: {\n        url: service\n        dataType: 'json'\n        delay: 250\n        data: (params) ->\n          return $.extend(true, {\n            q: params.term,\n            page: params.page,\n            page_limit: 10\n          }, ajaxParams)\n        processResults: (data, params) ->\n          params.page = 1 if params.page?\n          return { results: data }\n      }\n      templateResult: (item) ->\n        return item.label\n      templateSelection: (item) ->\n        if (new Date().getTime() < delayCallbacks + 250)\n          return item.label\n        for key of netuno.com.select.callbacks[fieldId]\n          callback = netuno.com.select.callbacks[fieldId][key]\n          if ($.isFunction(callback))\n            callback(item.id)\n            delayCallbacks = new Date().getTime()\n        return item.label\n      escapeMarkup: (m)->\n        return m\n    }\n  callbackForFieldId: (fieldId, key, callback)->\n    netuno.com.select.loadCallbacksForFieldId(fieldId)\n    netuno.com.select.callbacks[fieldId][key] = callback\n  loadCallbacksForFieldId: (fieldId)->\n    if fieldId? and fieldId.length > 0 and not netuno.com.select.callbacks[fieldId]?\n      netuno.com.select.callbacks[fieldId] = {}\n  load: (fieldId, comUid, service)->\n    $(\"\\##{ fieldId }\").select2(netuno.com.select.getConfig(fieldId, service, { com_uid: comUid }))\n  loadInContainer: (container)->\n    container.find(\"select[netuno-select-uid]\").each(()->\n      select = $(this)\n      select.select2('destroy')\n      value = select.attr('value')\n      comUid = select.attr('netuno-select-uid')\n      service = select.attr('netuno-select-service')\n      if comUid? and comUid isnt ''\n        select2 = select.select2(netuno.com.select.getConfig(select.attr('id'), service, { com_uid: comUid }))\n        if value? and value isnt ''\n          option = $('<option selected>Loading...</option>').val(value)\n          select.append(option)\n          select.trigger('change')\n          $.ajax({\n            dataType: \"jsonp\"\n            url: \"#{ service }?com_uid=#{ comUid }&data_uid=#{ value }\"\n          }).then((data) ->\n            if data? and data.label? and data.id?\n              option.html(data.label).val(data.id)\n              option.removeData()\n              select.trigger('change')\n              selectId = select.attr('id')\n              selectContainer = $(\"\\#select2-#{ selectId }-container\");\n              selectContainer.html(data.label)\n              selectContainer.prepend($(document.createElement(\"span\")).addClass('select2-selection__clear').text('×').data(data).on('click', ()->\n                $(\"\\##{ selectId }\").val('')\n                #$(this).parent().empty()\n              ))\n              selectContainer.find('.select2-selection__clear').data(data)\n          )\n    )\n    container.find(\"select[netuno-select-link]\").each(()->\n      link = $(this).attr('netuno-select-link')\n      columnSeparator = $(this).attr('netuno-select-column-separator')\n      maxColumnLength = $(this).attr('netuno-select-max-column-length')\n      onlyActives = $(this).attr('netuno-select-only-actives')\n      service = $(this).attr('netuno-select-service')\n      if link? and link isnt ''\n        $(this).select2(netuno.com.select.getConfig($(this).attr('id'), service, {\n          link: link,\n          column_separator: columnSeparator,\n          max_column_length: maxColumnLength,\n          only_actives: onlyActives\n        }));\n    )\n    container.find(\"select[netuno-select-service]:not([netuno-select-uid],[netuno-select-link])\").each(()->\n      service = $(this).attr('netuno-select-service')\n      if service? and service isnt ''\n        select = $(this)\n        select.select2('destroy')\n        value = select.attr('value')\n        service = select.attr('netuno-select-service')\n        select2 = $(this).select2(netuno.com.select.getConfig($(this).attr('id'), service))\n        if value? and value isnt ''\n          option = $('<option selected>Loading...</option>').val(value)\n          select.append(option).trigger('change')\n          $.ajax({\n            dataType: \"jsonp\"\n            url: \"#{ service }&data_uid=#{ value }\"\n          }).then((data) ->\n            if data? and data.label? and data.id?\n              option.html(data.label).val(data.id)\n              option.removeData()\n              select.trigger('change')\n              selectId = select.attr('id')\n              selectContainer = $(\"\\#select2-#{ selectId }-container\");\n              selectContainer.html(data.label)\n              selectContainer.prepend($(document.createElement(\"span\")).addClass('select2-selection__clear').text('×').data(data).on('click', ()->\n                $(\"\\##{ selectId }\").val('')\n                $(this).parent().empty()\n              ))\n              selectContainer.find('.select2-selection__clear').data(data)\n          )\n    )\n  setValue: (select, uid) ->\n    select\n      .empty()\n      .append($('<option></option>'))\n      .append(\n        $('<option selected></option>')\n        .val(uid)\n      )\n      .val(uid)\n      .attr('value', uid)\n    netuno.com.select.loadInContainer(select.parent())\n\n\nnetuno.com['date'] =\n  load: (fieldId, container, callback) ->\n    $(\"\\##{ fieldId }\").on('change', callback).datepicker({\n      format: \"yyyy-mm-dd\",\n      autoclose: true,\n      todayHighlight: true,\n      orientation: \"top auto\"\n      container: \"\\##{ container }\"\n    })\n\nnetuno.com['time'] =\n  load: (fieldId, container, callback) ->\n    control = $(\"\\##{ fieldId }\").on('change', callback).clockpicker({\n      autoclose: true,\n      placement: 'top'\n    })\n    return control\n\nnetuno.com['checkbox'] =\n    loadInContainer: (container)->\n      container.find(\"[type=\\\"checkbox\\\"]\").each ()->\n        $(this).bootstrapSwitch(\n          size: \"small\"\n          onText: \"<i class=\\\"fa fa-check\\\"></i>\"\n          offText: \"<i class=\\\"fa fa-close\\\"></i>\"\n        )\n\nnetuno.com['color'] =\n  load: (fieldId) ->\n    control = $(\"\\##{ fieldId }\").colorpicker()\n    return control\n\nnetuno.com['image'] =\n  load: (id)->\n    upload =  $(\"\\##{ id }\")\n    if ($(\"\\##{ id }-value\").val().length > 0)\n      value = $(\"\\##{ id }-value\").val()\n    else\n      $(\"\\##{ id }-btView\").hide()\n    upload.on(\"change\", ()->\n        input = $(this)\n        numFiles = if input.get(0).files then input.get(0).files.length else 1\n        label = input.val().replace(/\\\\/g, '/').replace(/.*\\//, '')\n        input.trigger('fileselect', [numFiles, label])\n    )\n    upload.on('fileselect', (event, numFiles, label) ->\n        $(\"\\##{ id }-null\").val('false')\n        input = $(this).parents('.input-group').find(':text')\n        log = if numFiles > 1 then \"#{numFiles } files selected\" else label\n        if (input.length > 0)\n            input.val(log)\n    )\n  view: (id, url)->\n    window.open(url, \"_blank\")\n  clear: (id)->\n    $(\"\\##{ id }\").val('').parents('.input-group').find(':text').val('')\n    $(\"\\##{ id }-fileFeedback\").html('')\n    $(\"\\##{ id }-null\").val('true')\n    $(\"\\##{ id }-preview\").hide()\n    $(\"\\##{ id }-btView\").hide()\n\nnetuno.com['file'] =\n  load: (id)->\n    upload =  $(\"\\##{ id }\")\n    if ($(\"\\##{ id }-value\").val().length == 0)\n      $(\"\\##{ id }-btView\").hide()\n    upload.on(\"change\", ()->\n        input = $(this)\n        numFiles = if input.get(0).files then input.get(0).files.length else 1\n        label = input.val().replace(/\\\\/g, '/').replace(/.*\\//, '')\n        input.trigger('fileselect', [numFiles, label])\n    )\n    upload.on('fileselect', (event, numFiles, label) ->\n        $(\"\\##{ id }-null\").val('false')\n        input = $(this).parents('.input-group').find(':text')\n        log = if numFiles > 1 then \"#{numFiles } files selected\" else label\n        if (input.length > 0)\n            input.val(log)\n    )\n  view: (id)->\n    value = $(\"\\##{ id }-value\")\n    window.open(value.attr('file-url'))\n  clear: (id)->\n    $(\"\\##{ id }\").val('').parents('.input-group').find(':text').val('')\n    $(\"\\##{ id }-fileFeedback\").html('')\n    $(\"\\##{ id }-null\").val('true')\n    $(\"\\##{ id }-btView\").hide()\n  restore: (id)->\n\n$(document).ready ()->\n  netuno.pageLoaded()\n  netuno.addContentLoad (container) ->\n    netuno.com['select'].loadInContainer(container)\n  netuno.addContentLoad (container) ->\n    netuno.com['checkbox'].loadInContainer(container)\n  netuno.keepAlive()\n  $(document).on 'show.bs.modal', (event)->\n    target = $(event.target)\n    parents = target.parents('.modal')\n    if (parents.length > 0)\n      target.detach().appendTo('body').attr('netuno-parent-modal-id', $(parents[0]).attr('id'))\n      $(parents[0]).modal('hide')\n  $(document).on 'hidden.bs.modal', (event)->\n      target = $(event.target)\n      if (target.attr('netuno-parent-modal-id'))\n        target.detach().appendTo(\"\\##{ target.attr('netuno-parent-modal-id') }\")\n        $(\"\\##{ target.attr('netuno-parent-modal-id') }\").modal('show')\n\n      #$(event.relatedTarget).parents('.modal')\n      #$(event.relatedTarget).parents('.modal').modal('hide')\n  #$(document).on 'shown.bs.modal', (event) ->\n  #  if ($('body').hasClass('modal-open') == false)\n  #    $('body').addClass('modal-open')\n"
  ]
}