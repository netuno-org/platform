(function(u,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(u=typeof globalThis<"u"?globalThis:u||self,u.css=i())})(this,function(){"use strict";const u={vanilla:!0,react:!1};function i(e){if(e){for(const n of Object.keys(u))u[n]=!1;u[e]=!0;return}for(const n of Object.keys(u))if(u[n])return n;return null}i.vanilla=()=>i()=="vanilla",i.react=()=>i()=="react";function a(e,n,s,c){if(a.null==n)throw new Error(`${s} is null and not a valid ${e}.`);if(a.invalid==n)throw new Error(`${s} is ${typeof c} and not a valid ${e}.`)}a.array="array",a.function="function",a.object="object",a.string="string",a.null=0,a.invalid=1;function h(e,n){n==null&&a(a.object,a.null,e,n),(typeof n!="object"||Array.isArray(n))&&a(a.object,a.invalid,e,n)}function T(e,n,s){const c=JSON.stringify(s),l=n.find(o=>o.def==c);if(l)return{name:l.name,reused:!0};let t=s.name;if(t)for(let o=0;o<n.length;o++)n[o].name==t&&(n.splice(o,1),o--);else for(;t=s.baseName||"xso_"+e,t+="_"+(Math.random()+1).toString(36).substring(2),!!n.find(o=>o.name==t););const d={name:t,def:c};return n.push(d),{name:d.name,reused:!1}}const E=/[A-Z]/g;function b(e){return e.replace(E,n=>"-"+n.toLowerCase())}function S(e){return e=="&"||e==":"||e=="."||e==" "||e==">"||e=="+"||e=="~"}function $(e,n){let s=`${e} {
`;const c={selectors:[],medias:[]},l={selectors:[],medias:[]};for(const t of Object.keys(n)){if(t=="name"||t=="baseName")continue;const d=b(t),o=t.length>0?t.substring(0,1):"";if(S(o)){h(t,n[t]);const r=e+(o=="&"?t.substring(1):(o==":"||o=="."||o==" "?"":" ")+t);c.selectors.push({selector:r,css:$(r,n[t])})}else if(o=="@")c.medias.push({media:t,css:$(e,n[t])});else if(typeof n[t]=="object"&&n[t]!==null)for(const r of Object.keys(n[t])){const y=`  ${d}: ${n[t][r]};
`;if(r=="default"||r=="def"||r=="_"||r==""){s+=y;continue}const m=r.length>0?r.substring(0,1):"";if(S(m)){const p=l.selectors.find(g=>g.selector==r);if(p)p.css+=y;else{const g=e+(m=="&"?r.substring(1):(m==":"||m=="."||m==" "?"":" ")+r);l.selectors.push({selector:g,css:y})}}else if(m=="@"){const p=l.medias.find(g=>g.media==r);p?p.css+=y:l.medias.push({media:r,css:y})}}else s+=`  ${d}: ${n[t]};
`}s+="}";for(const t of l.selectors)s+=`
${e}${t.selector} {
${t.css}}`;for(const t of l.medias)s+=`
${t.media} {
${e} {
${t.css}}
}`;for(const t of c.selectors)s+=`
${t.css}`;for(const t of c.medias)s+=`
${t.media} {
${t.css}}`;return s}const N=[];function j(e){return T("c",N,e)}function C(e){h(`CSS class ${e}`,e);const n=j(e);if(n.reused)return n.name;const s=$("."+n.name,e),c=document.createElement("style");return c.type="text/css",c.id=n.name,c.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(c),n.name}function v(e,n){h(`Definition ${e} > ${n}`,n);const s=$(e,n),c=document.createElement("style");c.type="text/css",c.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(c)}function O(e){const n=document.createElement("style");n.type="text/css",n.innerHTML=`@import ${e};`,document.getElementsByTagName("head")[0].appendChild(n)}function k(e){h(`Font-face ${e}`,e);let n=`@font-face {
`;for(const c of Object.keys(e)){const l=b(c);n+=`  ${l}: ${e[c]};
`}n+="}";const s=document.createElement("style");s.type="text/css",s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s)}function f(){if(arguments.length==0)return null;const e=[];for(const n of arguments)e.push(C(n));if(i.vanilla())return e.join(" ");if(i.react())return{className:e.join(" ")}}return f.mode=i,f.def=(e,n)=>{v(e,n)},f.import=e=>{O(e)},f.fontFace=e=>{k(e)},f.keyframes=e=>createKeyframes(e),f});
