{
  "version": 3,
  "file": "coder.js",
  "sourceRoot": "",
  "sources": [
    "coder.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\nclass NetunoCoder\n  constructor: (container) ->\n    @containers = {\n      filesystem: {\n        base: container.find(\"[netuno-coder-filesystem]\"),\n        notifications: container.find(\"[netuno-coder-notifications]\"),\n        tree: null,\n        modal: null\n      }\n    }\n    @initFileSystem()\n\n  initFileSystem: () ->\n    $.ajax\n      url: \"#{ netuno.config.urlBase }dev/coder/FileSystem#{ netuno.config.extension }\",\n      success: (response) =>\n        @containers.filesystem.base.html(response);\n        @containers.filesystem.tree = @containers.filesystem.base.find(\"[netuno-coder-filesystem-tree]\")\n        @containers.filesystem.createModal = @containers.filesystem.base.find(\"[netuno-coder-filesystem-create-modal]\")\n        @containers.filesystem.modal = @containers.filesystem.base.find(\"[netuno-coder-filesystem-modal]\")\n\n        @initFileSystemTree()\n\n  initFileSystemTree: () ->\n    $.ajax\n      url: \"#{ netuno.config.urlBase }dev/coder/FileSystem#{ netuno.config.extension }?action=tree\",\n      dataType: \"json\",\n      success: (data) =>\n        previousNodeClicked = null\n        @containers.filesystem.tree.tree({\n          data: data,\n          autoOpen: true,\n          dragAndDrop: true,\n          selectable: true,\n          onCreateLi: (node, $li) =>\n            if (node.children.length > 0)\n              $li\n                .find('.jqtree-element')\n                .append(\n                  \"\"\" &middot; <a href=\"#node-#{ node.id }\" class=\"create\" data-node-id=\"#{node.id }\"><i class=\"fa fa-plus-circle\" /></a>\"\"\"\n                )\n        })\n        @containers.filesystem.tree.find('.create').on('click', (e) =>\n          e.preventDefault()\n          a = $(e.currentTarget)\n          node = @containers.filesystem.tree.tree('getNodeById', a.data().nodeId)\n          @containers.filesystem.modal.find('.modal-title').text(node.name)\n          @containers.filesystem.createModal.find('[name=\"folder\"]').bootstrapSwitch {\n            offText: 'NEW FILE',\n            onText: 'NEW FOLDER'\n          }\n          @containers.filesystem.createModal.modal('show')\n\n          if typeof @containers.filesystem.createModal.find('[type=\"file\"]').data().blueimpFileupload != 'undefined'\n            @containers.filesystem.createModal.find('[type=\"file\"]').fileupload('destroy')\n          @containers.filesystem.createModal.find('[type=\"file\"]').fileupload({\n            url: \"#{ netuno.config.urlBase }dev/coder/FileSystem#{ netuno.config.extension }?action=upload&path=#{ a.data().nodeId }\",\n            dataType: 'json',\n            done: (e, data) =>\n              $.each(data.result.files, (index, file) =>\n                $(\"<p/>\").text(file.name).appendTo(document.body)\n              )\n            progressall: (e, data) =>\n              progress = parseInt(data.loaded / data.total * 100, 10)\n              @containers.filesystem.createModal.find('[class=\"progress\"]').css(\n                'width',\n                \"#{ progress }%\"\n              )\n          })\n\n          false\n        )\n        @containers.filesystem.tree.on 'tree.click', (e)=>\n          e.preventDefault()\n          console.log('node_clicked', e.node)\n          @containers.filesystem.tree.tree('selectNode', e.node)\n          if previousNodeClicked != null && e.node.id == previousNodeClicked.id\n            if typeof e.node.parent.id != 'undefined'\n              @containers.filesystem.modal.find('.netuno-dev-coder-filesystem-modal-path').text(e.node.parent.id).show()\n            else\n              @containers.filesystem.modal.find('.netuno-dev-coder-filesystem-modal-path').hide()\n            @containers.filesystem.modal.find('.modal-title').text(e.node.name)\n            @containers.filesystem.modal.find('[name=\"name\"]').val(e.node.name)\n            @containers.filesystem.modal.modal('show')\n            @containers.filesystem.modal.find('.btn-primary').off('click').on 'click', ()=>\n              $.ajax\n                url: \"#{ netuno.config.urlBase }dev/coder/FileSystem#{ netuno.config.extension }?action=rename\",\n                data: {\n                  folder: e.node.parent.id,\n                  from: e.node.name,\n                  to: @containers.filesystem.modal.find('[name=\"name\"]').val()\n                }\n                success: (response) =>\n                  if response.result == true\n                    e.node.id = \"#{ e.node.parent.id }/#{ response.name }\"\n                    e.node.name = \"#{ response.name }\"\n                    @containers.filesystem.tree.tree('moveNode', e.node, e.node.parent, 'inside')\n                  @containers.filesystem.notifications.html(response.output)\n                  @containers.filesystem.modal.modal('hide')\n                fail: () =>\n                  debugger\n          previousNodeClicked = e.node\n        @containers.filesystem.tree.on 'tree.select', (e)=>\n          ###\n          for node in @containers.filesystem.tree.tree('getSelectedNodes')\n            console.log 'remove-node', node\n            @containers.filesystem.tree.tree('removeFromSelection', node)\n          console.log('node_selected', e.node)\n          @containers.filesystem.tree.tree('selectNode', e.node)\n          ###\n        @containers.filesystem.tree.bind 'tree.move', (e)=>\n          e.preventDefault()\n          $.ajax\n            url: \"#{ netuno.config.urlBase }dev/coder/FileSystem#{ netuno.config.extension }?action=move\",\n            data: {\n              from: e.move_info.moved_node.id,\n              to: e.move_info.target_node.id\n            }\n            success: (response) =>\n              if response.result == true\n                e.move_info.moved_node.id = \"#{ e.move_info.target_node.id }/#{ e.move_info.moved_node.name }\"\n                @containers.filesystem.tree.tree('moveNode', e.move_info.moved_node, e.move_info.target_node, 'inside');\n              @containers.filesystem.notifications.html(response.output);\n            fail: () =>\n              debugger\n      fail: () =>\n        debugger\n\n`window.NetunoCoder = NetunoCoder`"
  ]
}